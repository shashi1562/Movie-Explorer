import{Y as a}from"./TJ7jymPr.js";const h="https://api.themoviedb.org/3",d=()=>{const i=a().public.tmdbToken,s=async(e,n={})=>{const r=new URL(h+e);Object.entries(n).forEach(([c,o])=>{o!=null&&o!==""&&r.searchParams.append(c,o)});const t=await fetch(r.toString(),{headers:{Authorization:`Bearer ${i}`,"Content-Type":"application/json"}});if(!t.ok){const c=await t.json().catch(()=>({}));throw new Error(`TMDB API error (${t.status}): ${c.status_message||t.statusText}`)}return t.json()};return{searchMovies:(e,n,r=1)=>s("/search/movie",{query:e,year:n,page:r}),fetchMovieDetails:e=>s(`/movie/${e}`),fetchGenres:()=>s("/genre/movie/list")}};export{d as u};
